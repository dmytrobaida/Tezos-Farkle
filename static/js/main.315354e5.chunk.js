(this["webpackJsonptezos-farkle"]=this["webpackJsonptezos-farkle"]||[]).push([[0],{123:function(e,t){},127:function(e,t){},128:function(e,t){},149:function(e,t){},151:function(e,t){},176:function(e,t,n){"use strict";n.r(t);var i,r,c,a,o,s,h=n(0),l=n.n(h),u=n(33),d=n.n(u),b=n(15),f=n(16),p=n(13),j=n(18),g=n(85),m=n(21),v=n.n(m),w=new v.a.Math.RandomDataGenerator,x=function(){function e(t,n,i){var r=this;Object(p.a)(this,e),this.sprite=void 0,this.sprite=t.physics.add.sprite(n,i,"dice"),this.sprite.setInteractive(new v.a.Geom.Rectangle(0,0,100,100),v.a.Geom.Rectangle.Contains),this.sprite.on("pointerover",(function(){r.sprite.alpha=.5})),this.sprite.on("pointerout",(function(){r.sprite.alpha=1}))}return Object(j.a)(e,[{key:"throwDice",value:function(e){var t=w.shuffle([0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4]);t.push(e-1),this.sprite.anims.remove("roll"),this.sprite.anims.create({key:"roll",frames:this.sprite.anims.generateFrameNumbers("dice",{start:0,end:5,frames:t}),frameRate:15}),this.sprite.play("roll")}},{key:"getSprite",value:function(){return this.sprite}}]),e}(),O=function(){function e(){Object(p.a)(this,e),this.dices=[]}return Object(j.a)(e,[{key:"start",value:function(e){var t=this;new v.a.Game({type:v.a.AUTO,parent:e,width:"100",height:"100",physics:{default:"arcade",arcade:{gravity:{y:0}}},scene:{preload:function(){this.load.spritesheet("dice","./images/dice.png",{frameWidth:100,frameHeight:100})},create:function(){var e,n,i=[new x(n=this,400,100),new x(n,500,100),new x(n,600,100),new x(n,700,100),new x(n,800,100)];(e=t.dices).push.apply(e,Object(g.a)(i))}}})}},{key:"throwDices",value:function(e){this.dices.forEach((function(t,n){return t.throwDice(e[n])}))}}]),e}(),y=function(){function e(){Object(p.a)(this,e),this.game=new O}return Object(j.a)(e,[{key:"startGame",value:function(e){this.game.start(e)}},{key:"throwDices",value:function(){var e=[Phaser.Math.Between(1,6),Phaser.Math.Between(1,6),Phaser.Math.Between(1,6),Phaser.Math.Between(1,6),Phaser.Math.Between(1,6)];this.game.throwDices(e)}}]),e}(),k=n(45),z=n.n(k),B=n(77),C=n(6),S=n(48),D=function(){function e(){Object(p.a)(this,e),this.address="",this.balance="",this.connected=!1,Object(C.d)(this,{},{autoBind:!0})}return Object(j.a)(e,[{key:"connect",value:function(){var e=Object(B.a)(z.a.mark((function e(){var t,n,i,r,c=this;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connected){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S.a.isAvailable();case 4:return e.sent||alert("Temple Wallet not installed"),t=new S.a("Farkle"),e.next=9,t.connect("granadanet");case 9:return n=t.toTezos(),e.next=12,n.wallet.pkh();case 12:return i=e.sent,e.next=15,n.tz.getBalance(i);case 15:r=e.sent,Object(C.g)((function(){c.address=i,c.balance=r.toString(),c.connected=t.connected}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),P=function e(){Object(p.a)(this,e),this.tezosStore=new D,this.gameStore=new y},F=Object(h.createContext)(new P),M=function(){return Object(h.useContext)(F)},G=P,R=n(35),T=f.b.div(i||(i=Object(b.a)(["\n  line-height: 50px;\n  padding: 0 15px 0 15px;\n  color: black;\n  border-radius: 5px;\n  border: 1px solid black;\n  width: auto;\n  background-color: red;\n  text-align: center;\n  cursor: pointer;\n\n  :hover {\n    color: white;\n  }\n"]))),A=n(4),E="gameWindow",I=Object(R.a)((function(){var e=M().gameStore;return Object(h.useEffect)((function(){e.startGame(E)}),[e]),Object(A.jsx)("div",{id:E,style:{width:"100%",height:"100%"}})})),W=f.b.div(r||(r=Object(b.a)(["\n  position: relative;\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n"]))),J=f.b.div(c||(c=Object(b.a)(["\n  cursor: pointer;\n  font-size: 14px;\n  margin-right: 10px;\n\n  :hover {\n    color: red;\n  }\n"]))),L=f.b.div(a||(a=Object(b.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  width: 100vw;\n  height: 12vh;\n"]))),H=f.b.div(o||(o=Object(b.a)(["\n  position: relative;\n  width: 80vw;\n  height: 76vh;\n  border: 5px solid white;\n  background-color: grey;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),N=Object(R.a)((function(){var e=M(),t=e.tezosStore,n=e.gameStore;return Object(A.jsxs)(W,{children:[Object(A.jsxs)(L,{children:[Object(A.jsxs)(J,{children:["Address: ",t.address]}),Object(A.jsxs)(J,{children:["Balance: ",t.balance]}),Object(A.jsx)(T,{style:{position:"absolute",right:"0"},onClick:t.connect,children:t.connected?"Connected":"Connect"})]}),Object(A.jsxs)(H,{children:[Object(A.jsx)(I,{}),Object(A.jsx)(T,{style:{position:"absolute",bottom:"10px"},onClick:function(){return n.throwDices()},children:"Roll a dice"})]})]})})),U=Object(f.a)(s||(s=Object(b.a)(["\n  body {\n    margin: 0;\n    font-family: 'Roboto', monospace;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n"]))),q=new G,K=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(U,{}),Object(A.jsx)(F.Provider,{value:q,children:Object(A.jsx)(N,{})})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,179)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))};d.a.render(Object(A.jsx)(l.a.StrictMode,{children:Object(A.jsx)(K,{})}),document.getElementById("root")),Q()},97:function(e,t){},99:function(e,t){}},[[176,1,2]]]);
//# sourceMappingURL=main.315354e5.chunk.js.map